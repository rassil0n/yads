#!/bin/sh

# get battery
battery="/sys/class/power_supply/BAT0"
cap=$(cat "${battery}"/capacity)
stat=$(sed "s/Discharging/ğŸ”‹/;s/Not charging/ğŸ›‘/;s/Charging/ğŸ”Œ/;s/Unknown/â™»ï¸/;s/Full/âš¡/" "$battery"/status)

# make warn
[ "$cap" -le 25 ] && [ "$status" = "ğŸ”‹" ] && warn="â—"

# create output
printf "[ %s%s%s%% ]" "$stat" "$warn" "$cap"
unset warn
